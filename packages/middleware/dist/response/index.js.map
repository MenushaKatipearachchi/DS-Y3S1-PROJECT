{
  "version": 3,
  "sources": ["../../src/response/index.js"],
  "sourcesContent": ["import os from \"os\";\r\nimport context from \"express-http-context\";\r\nimport { correlationId, hostName } from \"@app/constants\";\r\n\r\nexport const responseInterceptor = (_req, res, next) => {\r\n  if (res.headersSent) return;\r\n  res.set(hostName, os.hostname());\r\n  res.set(correlationId, context.get(\"correlationId\"));\r\n  next();\r\n};\r\n\r\nexport const toSuccess = ({ res, status = 200, data, message }) => {\r\n  responseInterceptor({}, res, () => {});\r\n  if (res.polyglot) message = res.polyglot.t(message);\r\n  const responseData = { data, message };\r\n  if (!data) delete responseData.data;\r\n  res.status(status).json(responseData);\r\n};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAe;AACf,kCAAoB;AACpB,uBAAwC;AAEjC,MAAM,sBAAsB,wBAAC,MAAM,KAAK,SAAS;AACtD,MAAI,IAAI;AAAa;AACrB,MAAI,IAAI,2BAAU,UAAAA,QAAG,SAAS,CAAC;AAC/B,MAAI,IAAI,gCAAe,4BAAAC,QAAQ,IAAI,eAAe,CAAC;AACnD,OAAK;AACP,GALmC;AAO5B,MAAM,YAAY,wBAAC,EAAE,KAAK,SAAS,KAAK,MAAM,QAAQ,MAAM;AACjE,sBAAoB,CAAC,GAAG,KAAK,MAAM;AAAA,EAAC,CAAC;AACrC,MAAI,IAAI;AAAU,cAAU,IAAI,SAAS,EAAE,OAAO;AAClD,QAAM,eAAe,EAAE,MAAM,QAAQ;AACrC,MAAI,CAAC;AAAM,WAAO,aAAa;AAC/B,MAAI,OAAO,MAAM,EAAE,KAAK,YAAY;AACtC,GANyB;",
  "names": ["os", "context"]
}
