{
  "version": 3,
  "sources": ["../../../../../src/modules/delivery/api/v1/controller.js"],
  "sourcesContent": ["import express from \"express\";\n// import mongoose from \"mongoose\";\nimport { celebrate, Segments } from \"celebrate\";\nimport { default as filterQuery } from \"@sliit-foss/mongoose-filter-query\";\nimport { asyncHandler } from \"@sliit-foss/functions\";\nimport { objectIdSchema } from \"@app/constants\";\nimport { toSuccess } from \"@app/middleware\";\nimport {\n  serviceCreateDelivery,\n  serviceGetDeliveries,\n  serviceGetDeliveryById,\n  serviceUpdateDeliveryById,\n  serviceDeleteDeliveryById,\n} from \"./service\";\n\nimport { createDeliverySchema, updateDeliverySchema } from \"./schema\";\n\nconst delivery = express.Router();\n\ndelivery.post(\n  \"/\",\n  celebrate({ [Segments.BODY]: createDeliverySchema }),\n  asyncHandler(async function controllerCreateDelivery(req, res) {\n    const data = await serviceCreateDelivery(req.body);\n    return toSuccess({\n      res,\n      data,\n      message: \"Delivery created successfully!\",\n    });\n  })\n);\n\ndelivery.get(\n  \"/\",\n  filterQuery,\n  asyncHandler(async function controllerGetDeliveries(req, res) {\n    const data = await serviceGetDeliveries(\n      req.query.filter,\n      req.query.sort,\n      req.query.page,\n      req.query.limit\n    );\n    return toSuccess({ res, data, message: \"Deliverys fetched successfully!\" });\n  })\n);\n\ndelivery.get(\n  \"/:id\",\n  celebrate({ [Segments.PARAMS]: objectIdSchema() }),\n  asyncHandler(async function controllerGetDeliveryById(req, res) {\n    const data = await serviceGetDeliveryById(req.params.id);\n    return toSuccess({ res, data, message: \"Delivery fetched successfully!\" });\n  })\n);\n\ndelivery.patch(\n  \"/:id\",\n  celebrate({\n    [Segments.PARAMS]: objectIdSchema(),\n    [Segments.BODY]: updateDeliverySchema,\n  }),\n  asyncHandler(async function controllerUpdateDeliveryById(req, res) {\n    const data = await serviceUpdateDeliveryById(req.params.id, req.body);\n    return toSuccess({ res, data, message: \"Delivery updated successfully!\" });\n  })\n);\n\ndelivery.delete(\n  \"/:id\",\n  celebrate({ [Segments.PARAMS]: objectIdSchema() }),\n  asyncHandler(async function controllerDeleteDeliveryById(req, res) {\n    const data = await serviceDeleteDeliveryById(req.params.id);\n    return toSuccess({ res, data, message: \"Delivery deleted successfully!\" });\n  })\n);\n\nexport default delivery;\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAoB;AAEpB,uBAAoC;AACpC,mCAAuC;AACvC,uBAA6B;AAC7B,uBAA+B;AAC/B,wBAA0B;AAC1B,qBAMO;AAEP,oBAA2D;AAE3D,MAAM,WAAW,eAAAA,QAAQ,OAAO;AAEhC,SAAS;AAAA,EACP;AAAA,MACA,4BAAU,EAAE,CAAC,0BAAS,IAAI,GAAG,mCAAqB,CAAC;AAAA,MACnD,+BAAa,sCAAe,yBAAyB,KAAK,KAAK;AAC7D,UAAM,OAAO,UAAM,sCAAsB,IAAI,IAAI;AACjD,eAAO,6BAAU;AAAA,MACf;AAAA,MACA;AAAA,MACA,SAAS;AAAA,IACX,CAAC;AAAA,EACH,GAPa,2BAOZ;AACH;AAEA,SAAS;AAAA,EACP;AAAA,EACA,6BAAAC;AAAA,MACA,+BAAa,sCAAe,wBAAwB,KAAK,KAAK;AAC5D,UAAM,OAAO,UAAM;AAAA,MACjB,IAAI,MAAM;AAAA,MACV,IAAI,MAAM;AAAA,MACV,IAAI,MAAM;AAAA,MACV,IAAI,MAAM;AAAA,IACZ;AACA,eAAO,6BAAU,EAAE,KAAK,MAAM,SAAS,kCAAkC,CAAC;AAAA,EAC5E,GARa,0BAQZ;AACH;AAEA,SAAS;AAAA,EACP;AAAA,MACA,4BAAU,EAAE,CAAC,0BAAS,MAAM,OAAG,iCAAe,EAAE,CAAC;AAAA,MACjD,+BAAa,sCAAe,0BAA0B,KAAK,KAAK;AAC9D,UAAM,OAAO,UAAM,uCAAuB,IAAI,OAAO,EAAE;AACvD,eAAO,6BAAU,EAAE,KAAK,MAAM,SAAS,iCAAiC,CAAC;AAAA,EAC3E,GAHa,4BAGZ;AACH;AAEA,SAAS;AAAA,EACP;AAAA,MACA,4BAAU;AAAA,IACR,CAAC,0BAAS,MAAM,OAAG,iCAAe;AAAA,IAClC,CAAC,0BAAS,IAAI,GAAG;AAAA,EACnB,CAAC;AAAA,MACD,+BAAa,sCAAe,6BAA6B,KAAK,KAAK;AACjE,UAAM,OAAO,UAAM,0CAA0B,IAAI,OAAO,IAAI,IAAI,IAAI;AACpE,eAAO,6BAAU,EAAE,KAAK,MAAM,SAAS,iCAAiC,CAAC;AAAA,EAC3E,GAHa,+BAGZ;AACH;AAEA,SAAS;AAAA,EACP;AAAA,MACA,4BAAU,EAAE,CAAC,0BAAS,MAAM,OAAG,iCAAe,EAAE,CAAC;AAAA,MACjD,+BAAa,sCAAe,6BAA6B,KAAK,KAAK;AACjE,UAAM,OAAO,UAAM,0CAA0B,IAAI,OAAO,EAAE;AAC1D,eAAO,6BAAU,EAAE,KAAK,MAAM,SAAS,iCAAiC,CAAC;AAAA,EAC3E,GAHa,+BAGZ;AACH;AAEA,IAAO,qBAAQ;",
  "names": ["express", "filterQuery"]
}
