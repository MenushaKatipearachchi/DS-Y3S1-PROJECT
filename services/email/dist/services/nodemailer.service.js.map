{
  "version": 3,
  "sources": ["../../src/services/nodemailer.service.js"],
  "sourcesContent": ["import nodemailer from \"nodemailer\";\r\nimport handlebars from \"handlebars\";\r\nimport config from \"../config\";\r\n\r\nconst transport = nodemailer.createTransport({\r\n  service: \"gmail\",\r\n  auth: {\r\n    user: config.MAIL_USER,\r\n    pass: config.MAIL_PASSWORD,\r\n  },\r\n  pool: true,\r\n});\r\n\r\nexport const sendMail = ({\r\n  to,\r\n  cc = [],\r\n  bcc = [],\r\n  templateHTML,\r\n  replacements,\r\n  subject,\r\n  attachments = [],\r\n}) => {\r\n  const template = handlebars.compile(templateHTML);\r\n  const htmlToSend = template(replacements);\r\n  const mailOptions = {\r\n    from: config.MAIL_USER,\r\n    to,\r\n    cc,\r\n    bcc,\r\n    subject: subject,\r\n    html: htmlToSend,\r\n    attachments,\r\n  };\r\n  return new Promise((resolve, reject) => {\r\n    transport.sendMail(mailOptions, (error) => {\r\n      if (error) reject(error);\r\n      resolve(true);\r\n    });\r\n  });\r\n};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAuB;AACvB,wBAAuB;AACvB,oBAAmB;AAEnB,MAAM,YAAY,kBAAAA,QAAW,gBAAgB;AAAA,EAC3C,SAAS;AAAA,EACT,MAAM;AAAA,IACJ,MAAM,cAAAC,QAAO;AAAA,IACb,MAAM,cAAAA,QAAO;AAAA,EACf;AAAA,EACA,MAAM;AACR,CAAC;AAEM,MAAM,WAAW,wBAAC;AAAA,EACvB;AAAA,EACA,KAAK,CAAC;AAAA,EACN,MAAM,CAAC;AAAA,EACP;AAAA,EACA;AAAA,EACA;AAAA,EACA,cAAc,CAAC;AACjB,MAAM;AACJ,QAAM,WAAW,kBAAAC,QAAW,QAAQ,YAAY;AAChD,QAAM,aAAa,SAAS,YAAY;AACxC,QAAM,cAAc;AAAA,IAClB,MAAM,cAAAD,QAAO;AAAA,IACb;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,MAAM;AAAA,IACN;AAAA,EACF;AACA,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,cAAU,SAAS,aAAa,CAAC,UAAU;AACzC,UAAI;AAAO,eAAO,KAAK;AACvB,cAAQ,IAAI;AAAA,IACd,CAAC;AAAA,EACH,CAAC;AACH,GA1BwB;",
  "names": ["nodemailer", "config", "handlebars"]
}
