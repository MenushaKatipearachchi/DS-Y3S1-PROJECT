{
  "version": 3,
  "sources": ["../../src/middleware/rateLimiter.js"],
  "sourcesContent": ["import rateLimit from \"express-rate-limit\";\nimport RedisStore from \"rate-limit-redis\";\nimport config from \"../config\";\n\nconst options = {\n  windowMs: 1 * 60 * 1000,\n  standardHeaders: true,\n  legacyHeaders: false,\n  max: 1000000,\n  message: (_req, res) =>\n    res.status(429).json({\n      message: `Too many requests`,\n    }),\n};\n\nif (config.REDIS_CONNECTION_STRING) {\n  const { redis } = require(\"@app/redis\").default;\n  options.store = new RedisStore({\n    sendCommand: (...args) => redis.call(...args),\n  });\n}\n\nexport const defaultLimiter = rateLimit(options);\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAsB;AACtB,8BAAuB;AACvB,oBAAmB;AAEnB,MAAM,UAAU;AAAA,EACd,UAAU,IAAI,KAAK;AAAA,EACnB,iBAAiB;AAAA,EACjB,eAAe;AAAA,EACf,KAAK;AAAA,EACL,SAAS,CAAC,MAAM,QACd,IAAI,OAAO,GAAG,EAAE,KAAK;AAAA,IACnB,SAAS;AAAA,EACX,CAAC;AACL;AAEA,IAAI,cAAAA,QAAO,yBAAyB;AAClC,QAAM,EAAE,MAAM,IAAI,QAAQ,YAAY,EAAE;AACxC,UAAQ,QAAQ,IAAI,wBAAAC,QAAW;AAAA,IAC7B,aAAa,IAAI,SAAS,MAAM,KAAK,GAAG,IAAI;AAAA,EAC9C,CAAC;AACH;AAEO,MAAM,qBAAiB,0BAAAC,SAAU,OAAO;",
  "names": ["config", "RedisStore", "rateLimit"]
}
