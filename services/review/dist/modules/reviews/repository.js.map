{
  "version": 3,
  "sources": ["../../../src/modules/reviews/repository.js"],
  "sourcesContent": ["import { Review } from \"./api/v1/models\";\r\n\r\nexport function createReview(review) {\r\n  return Review.create(review);\r\n}\r\n\r\nexport function getReviewByRating(rating) {\r\n  return Review.find({ rating }).lean().populate(\"item\");\r\n}\r\n\r\nexport function getReviewById(id) {\r\n  return Review.findById(id).lean();\r\n}\r\n\r\nexport function getReviewsByProductId(productId) {\r\n  return Review.find({ productId }).lean();\r\n}\r\n\r\nexport function getAllReviews({ filters = {}, sorts = {}, page, limit }) {\r\n  if (page && limit) {\r\n    return Review.paginate(filters, {\r\n      page,\r\n      limit,\r\n      sorts,\r\n      lean: true,\r\n    });\r\n  }\r\n  return Review.find(filters).sort(sorts).lean().populate(\"item\");\r\n}\r\n\r\nexport function updateReviewById(id, data) {\r\n  return Review.findByIdAndUpdate(id, data, { new: true }).lean();\r\n}\r\n\r\nexport function deleteReviewById(id) {\r\n  return Review.findByIdAndDelete(id).lean();\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAuB;AAEhB,SAAS,aAAa,QAAQ;AACnC,SAAO,qBAAO,OAAO,MAAM;AAC7B;AAFgB;AAIT,SAAS,kBAAkB,QAAQ;AACxC,SAAO,qBAAO,KAAK,EAAE,OAAO,CAAC,EAAE,KAAK,EAAE,SAAS,MAAM;AACvD;AAFgB;AAIT,SAAS,cAAc,IAAI;AAChC,SAAO,qBAAO,SAAS,EAAE,EAAE,KAAK;AAClC;AAFgB;AAIT,SAAS,sBAAsB,WAAW;AAC/C,SAAO,qBAAO,KAAK,EAAE,UAAU,CAAC,EAAE,KAAK;AACzC;AAFgB;AAIT,SAAS,cAAc,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,GAAG,MAAM,MAAM,GAAG;AACvE,MAAI,QAAQ,OAAO;AACjB,WAAO,qBAAO,SAAS,SAAS;AAAA,MAC9B;AAAA,MACA;AAAA,MACA;AAAA,MACA,MAAM;AAAA,IACR,CAAC;AAAA,EACH;AACA,SAAO,qBAAO,KAAK,OAAO,EAAE,KAAK,KAAK,EAAE,KAAK,EAAE,SAAS,MAAM;AAChE;AAVgB;AAYT,SAAS,iBAAiB,IAAI,MAAM;AACzC,SAAO,qBAAO,kBAAkB,IAAI,MAAM,EAAE,KAAK,KAAK,CAAC,EAAE,KAAK;AAChE;AAFgB;AAIT,SAAS,iBAAiB,IAAI;AACnC,SAAO,qBAAO,kBAAkB,EAAE,EAAE,KAAK;AAC3C;AAFgB;",
  "names": []
}
