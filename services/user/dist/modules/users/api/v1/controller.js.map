{
  "version": 3,
  "sources": ["../../../../../src/modules/users/api/v1/controller.js"],
  "sourcesContent": ["import express from \"express\";\nimport { celebrate, Segments } from \"celebrate\";\nimport { default as filterQuery } from \"@sliit-foss/mongoose-filter-query\";\nimport { asyncHandler } from \"@sliit-foss/functions\";\nimport { objectIdSchema } from \"@app/constants\";\nimport { toSuccess } from \"@app/middleware\";\nimport {\n  serviceCreateUser,\n  serviceGetUsers,\n  serviceGetUserById,\n  serviceUpdateUserById,\n  serviceUpdateMultipleUsers,\n  serviceDeleteUserById,\n} from \"./service\";\n\nimport { createUserSchema, updateUserSchema } from \"./schema\";\n\nconst user = express.Router();\n\nuser.post(\n  \"/\",\n\n  celebrate({ [Segments.BODY]: createUserSchema }),\n\n  asyncHandler(async function controllerCreateUser(req, res) {\n    const data = await serviceCreateUser(req.body);\n    return toSuccess({ res, data, message: \"User created successfully!\" });\n  })\n);\n\nuser.get(\n  \"/\",\n  filterQuery,\n  asyncHandler(async function controllerGetUsers(req, res) {\n    const data = await serviceGetUsers(\n      req.query.filter,\n      req.query.sort,\n      req.query.page,\n      req.query.limit\n    );\n    return toSuccess({ res, data, message: \"Users fetched successfully!\" });\n  })\n);\n\nuser.get(\n  \"/:id\",\n  celebrate({ [Segments.PARAMS]: objectIdSchema() }),\n  asyncHandler(async function controllerGetUserById(req, res) {\n    const data = await serviceGetUserById(req.params.id);\n    return toSuccess({ res, data, message: \"User fetched successfully!\" });\n  })\n);\n\nuser.patch(\n  \"/:id\",\n  celebrate({\n    [Segments.PARAMS]: objectIdSchema(),\n    [Segments.BODY]: updateUserSchema,\n  }),\n  asyncHandler(async function controllerUpdateUserById(req, res) {\n    const data = await serviceUpdateUserById(req.params.id, req.body);\n    return toSuccess({ res, data, message: \"User updated successfully!\" });\n  })\n);\n\nuser.patch(\n  \"/\",\n  filterQuery,\n  celebrate({ [Segments.BODY]: updateUserSchema }),\n  asyncHandler(async function controllerUpdateMultipleUsers(req, res) {\n    const data = await serviceUpdateMultipleUsers(req.query.filter, req.body);\n    return toSuccess({ res, data, message: \"Users updated successfully!\" });\n  })\n);\n\nuser.delete(\n  \"/:id\",\n  celebrate({ [Segments.PARAMS]: objectIdSchema() }),\n  asyncHandler(async function controllerDeleteUserById(req, res) {\n    const data = await serviceDeleteUserById(req.params.id);\n    return toSuccess({ res, data, message: \"User deleted successfully!\" });\n  })\n);\n\nexport default user;\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAoB;AACpB,uBAAoC;AACpC,mCAAuC;AACvC,uBAA6B;AAC7B,uBAA+B;AAC/B,wBAA0B;AAC1B,qBAOO;AAEP,oBAAmD;AAEnD,MAAM,OAAO,eAAAA,QAAQ,OAAO;AAE5B,KAAK;AAAA,EACH;AAAA,MAEA,4BAAU,EAAE,CAAC,0BAAS,IAAI,GAAG,+BAAiB,CAAC;AAAA,MAE/C,+BAAa,sCAAe,qBAAqB,KAAK,KAAK;AACzD,UAAM,OAAO,UAAM,kCAAkB,IAAI,IAAI;AAC7C,eAAO,6BAAU,EAAE,KAAK,MAAM,SAAS,6BAA6B,CAAC;AAAA,EACvE,GAHa,uBAGZ;AACH;AAEA,KAAK;AAAA,EACH;AAAA,EACA,6BAAAC;AAAA,MACA,+BAAa,sCAAe,mBAAmB,KAAK,KAAK;AACvD,UAAM,OAAO,UAAM;AAAA,MACjB,IAAI,MAAM;AAAA,MACV,IAAI,MAAM;AAAA,MACV,IAAI,MAAM;AAAA,MACV,IAAI,MAAM;AAAA,IACZ;AACA,eAAO,6BAAU,EAAE,KAAK,MAAM,SAAS,8BAA8B,CAAC;AAAA,EACxE,GARa,qBAQZ;AACH;AAEA,KAAK;AAAA,EACH;AAAA,MACA,4BAAU,EAAE,CAAC,0BAAS,MAAM,OAAG,iCAAe,EAAE,CAAC;AAAA,MACjD,+BAAa,sCAAe,sBAAsB,KAAK,KAAK;AAC1D,UAAM,OAAO,UAAM,mCAAmB,IAAI,OAAO,EAAE;AACnD,eAAO,6BAAU,EAAE,KAAK,MAAM,SAAS,6BAA6B,CAAC;AAAA,EACvE,GAHa,wBAGZ;AACH;AAEA,KAAK;AAAA,EACH;AAAA,MACA,4BAAU;AAAA,IACR,CAAC,0BAAS,MAAM,OAAG,iCAAe;AAAA,IAClC,CAAC,0BAAS,IAAI,GAAG;AAAA,EACnB,CAAC;AAAA,MACD,+BAAa,sCAAe,yBAAyB,KAAK,KAAK;AAC7D,UAAM,OAAO,UAAM,sCAAsB,IAAI,OAAO,IAAI,IAAI,IAAI;AAChE,eAAO,6BAAU,EAAE,KAAK,MAAM,SAAS,6BAA6B,CAAC;AAAA,EACvE,GAHa,2BAGZ;AACH;AAEA,KAAK;AAAA,EACH;AAAA,EACA,6BAAAA;AAAA,MACA,4BAAU,EAAE,CAAC,0BAAS,IAAI,GAAG,+BAAiB,CAAC;AAAA,MAC/C,+BAAa,sCAAe,8BAA8B,KAAK,KAAK;AAClE,UAAM,OAAO,UAAM,2CAA2B,IAAI,MAAM,QAAQ,IAAI,IAAI;AACxE,eAAO,6BAAU,EAAE,KAAK,MAAM,SAAS,8BAA8B,CAAC;AAAA,EACxE,GAHa,gCAGZ;AACH;AAEA,KAAK;AAAA,EACH;AAAA,MACA,4BAAU,EAAE,CAAC,0BAAS,MAAM,OAAG,iCAAe,EAAE,CAAC;AAAA,MACjD,+BAAa,sCAAe,yBAAyB,KAAK,KAAK;AAC7D,UAAM,OAAO,UAAM,sCAAsB,IAAI,OAAO,EAAE;AACtD,eAAO,6BAAU,EAAE,KAAK,MAAM,SAAS,6BAA6B,CAAC;AAAA,EACvE,GAHa,2BAGZ;AACH;AAEA,IAAO,qBAAQ;",
  "names": ["express", "filterQuery"]
}
